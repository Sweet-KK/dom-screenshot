{"version":3,"sources":["webpack://dom-screenshot/webpack/universalModuleDefinition","webpack://dom-screenshot/webpack/bootstrap","webpack://dom-screenshot/./node_modules/file-saver/dist/FileSaver.min.js","webpack://dom-screenshot/./node_modules/load-script/index.js","webpack://dom-screenshot/./src/components/DomScreenshot.vue?271e","webpack://dom-screenshot/./src/components/DomScreenshot.vue?18c8","webpack://dom-screenshot/./node_modules/@soda/get-current-script/index.js","webpack://dom-screenshot/./src/index.js","webpack://dom-screenshot/(webpack)/buildin/global.js","webpack://dom-screenshot/./src/components/DomScreenshot.vue?56c3","webpack://dom-screenshot/src/components/DomScreenshot.vue","webpack://dom-screenshot/./src/components/DomScreenshot.vue?daa9","webpack://dom-screenshot/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://dom-screenshot/./src/components/DomScreenshot.vue","webpack://dom-screenshot/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://dom-screenshot/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","b","a","autoBom","console","warn","test","type","Blob","XMLHttpRequest","open","responseType","onload","g","response","onerror","error","send","status","e","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","global","navigator","userAgent","saveAs","HTMLAnchorElement","h","URL","webkitURL","j","createElement","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","setAttributes","script","attrs","attr","setAttribute","stdOnEnd","cb","Error","src","ieOnEnd","onreadystatechange","readyState","opts","head","getElementsByTagName","charset","async","text","onend","appendChild","getCurrentScript","descriptor","getOwnPropertyDescriptor","currentScript","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","hash","scripts","documentElement","outerHTML","RegExp","trim","length","innerHTML","install","Vue","component","GlobalVue","use","Function","render","_vm","_h","$createElement","_c","_self","_g","_b","ref","staticClass","$attrs","$listeners","_t","_v","staticRenderFns","loadJs","typeMapping","jpg","fn","suffix","png","blob","props","beforeShot","default","saveName","String","scale","Number","quality","isSave","Boolean","distType","cacheBust","bgColor","options","useHtml2canvas","undefined","cdns","domtoimage","html2canvas","useAnother","toLowerCase","includes","methods","el","offset","getOffset","allowTaint","useCORS","x","left","y","top","width","height","backgroundColor","offsetWidth","offsetHeight","style","transform","transformOrigin","imagePlaceholder","bgcolor","offsetTop","offsetLeft","parent","offsetParent","doShot","ignoreMultiClick","dealHandle","before","then","log","$refs","targetDom","getFileName","func","loadScript","getOption","data","saveFile","catch","imgArr","querySelectorAll","dom","imageLoadBlob","canvas","canvasToData","option","Promise","resolve","reject","url","Date","getTime","request","encoder","content","split","extension","parseExtension","mimes","ontimeout","timeout","match","WOFF","JPEG","woff","woff2","ttf","eot","jpeg","gif","tiff","svg","anotherHandle","conmonHandle","manual","lock","args","done","promise","finally","theBlob","fileName","lastModifiedDate","toDataURL","toBlob","binaryString","atob","binaryArray","Uint8Array","charCodeAt","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","concat"],"mappings":"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","file":"dom-screenshot.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dom-screenshot\"] = factory();\n\telse\n\t\troot[\"dom-screenshot\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n","module.exports = {}","import mod from \"-!../../node_modules/vue-cli-plugin-styleguidist/empty-object-loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomScreenshot.vue?vue&type=custom&index=0&blockType=docs\"; export default mod; export * from \"-!../../node_modules/vue-cli-plugin-styleguidist/empty-object-loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomScreenshot.vue?vue&type=custom&index=0&blockType=docs\"","// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","import Component from './components/DomScreenshot.vue'\n\nComponent.install = Vue => {\n  Vue.component(Component.name, Component)\n}\n\nlet GlobalVue = null\nif (typeof window !== 'undefined') {\n  GlobalVue = window.Vue\n} else if (typeof global !== 'undefined') {\n  GlobalVue = global.Vue\n}\nif (GlobalVue) {\n  GlobalVue.use(Component)\n}\n\nexport default Component\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._g(_vm._b({ref:\"targetDom\",staticClass:\"dom-screenshot\"},'div',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\",[_vm._v(\" Hellow Word! \")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"targetDom\" class=\"dom-screenshot\" v-bind=\"$attrs\" v-on=\"$listeners\">\n    <!-- @slot 需要生成截图的内容 -->\n    <slot>\n      Hellow Word!\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { saveAs } from 'file-saver'\nconst loadJs = require('load-script')\nconst typeMapping = {\n  jpg: { fn: 'toJpeg', suffix: 'jpg' },\n  png: { fn: 'toPng', suffix: 'png' },\n  blob: { fn: 'toBlob', suffix: 'png' }\n}\nexport default {\n  name: 'DomScreenshot',\n  props: {\n    /**\n     * 截图前的钩子\n     */\n    beforeShot: {\n      type: Function,\n      default: null\n    },\n    /**\n     * 启用isSave保存图片时的文件命名\n     */\n    saveName: {\n      type: String,\n      default: '生成图片'\n    },\n    /**\n     * 图片缩放倍数\n     */\n    scale: {\n      type: Number,\n      default: 2\n    },\n    /**\n     * distType为jpg时输出的图片质量\n     */\n    quality: {\n      type: Number,\n      default: 0.9\n    },\n    /**\n     * 截图后是否直接保存图片，移动端可调用shot().then进行处理（如微信、ios）\n     */\n    isSave: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * 输出类型，有jpg/png/blob\n     */\n    distType: {\n      type: String,\n      default: 'jpg'\n    },\n    /**\n     * 请求图片时添加时间戳参数，禁用缓存。使用时可解决html2canvas不加载图片的问题，启用该参数会先请求图片转换为blob再进行截图，因此执行时间增加\n     */\n    cacheBust: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * 截图容器的背景色\n     */\n    bgColor: {\n      type: [String, null],\n      default: null\n    },\n    /**\n     * dom-to-image和html2canvas的其他参数，相同选项会被暴露出来的参数覆盖\n     */\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    /**\n     * 默认使用dom-to-image，在ios及ie下使用html2canvas\n     * 由于图片跨域问题，部分浏览器在默认处理下可能无法截图，请使用该参数自行控制\n     */\n    useHtml2canvas: {\n      type: Boolean,\n      default: undefined\n    },\n    /**\n     * 异步加载js优化首屏加载体积,可自定义cdn链接\n     */\n    cdns: {\n      type: Object,\n      default: () => ({\n        domtoimage: '//cdn.bootcdn.net/ajax/libs/dom-to-image/2.6.0/dom-to-image.js',\n        html2canvas: '//html2canvas.hertzen.com/dist/html2canvas.min.js'\n      })\n    }\n  },\n  data () {\n    return {\n      useAnother: false\n    }\n  },\n  mounted () {\n    if (this.useHtml2canvas === void 0) {\n      this.useAnother =\n        /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent) ||\n        navigator.userAgent.toLowerCase().includes('msie') ||\n        navigator.userAgent.toLowerCase().includes('trident')\n    } else {\n      this.useAnother = this.useHtml2canvas\n    }\n  },\n  methods: {\n    getOption (el) {\n      if (this.useAnother) {\n        const offset = this.getOffset(el)\n        return {\n          allowTaint: true,\n          useCORS: true,\n          x: offset.left,\n          y: offset.top,\n          width: offset.width,\n          height: offset.height,\n          ...this.options,\n          scale: this.scale,\n          backgroundColor: this.bgColor\n        }\n      } else {\n        return {\n          width: el.offsetWidth * this.scale,\n          height: el.offsetHeight * this.scale,\n          style: {\n            transform: `scale(${this.scale})`,\n            transformOrigin: '0 0',\n            width: `${el.offsetWidth}px`,\n            height: `${el.offsetHeight}px`\n          },\n          imagePlaceholder:\n            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkCAYAAADDhn8LAAACpUlEQVR4Xu3VsRHDMAwEQbH/BtmN3YDl4NJf5Qiw4I3Ovffz+AgQ+ClwBOJlEHgXEIjXQeCPgEA8DwIC8QYINAF/kOZmakRAICOHtmYTEEhzMzUiIJCRQ1uzCQikuZkaERDIyKGt2QQE0txMjQgIZOTQ1mwCAmlupkYEBDJyaGs2AYE0N1MjAgIZObQ1m4BAmpupEQGBjBzamk1AIM3N1IiAQEYObc0mIJDmZmpEQCAjh7ZmExBIczM1IiCQkUNbswkIpLmZGhEQyMihrdkEBNLcTI0ICGTk0NZsAgJpbqZGBAQycmhrNgGBNDdTIwICGTm0NZuAQJqbqREBgYwc2ppNQCDNzdSIgEBGDm3NJiCQ5mZqREAgI4e2ZhMQSHMzNSIgkJFDW7MJCKS5mRoREMjIoa3ZBATS3EyNCAhk5NDWbAICaW6mRgQEMnJoazYBgTQ3UyMCAhk5tDWbgECam6kRAYGMHNqaTUAgzc3UiIBARg5tzSYgkOZmakRAICOHtmYTEEhzMzUiIJCRQ1uzCQikuZkaERDIyKGt2QQE0txMjQgIZOTQ1mwCAmlupkYEBDJyaGs2AYE0N1MjAgIZObQ1m4BAmpupEQGBjBzamk1AIM3N1IiAQEYObc0mIJDmZmpEQCAjh7ZmExBIczM1IiCQkUNbswkIpLmZGhEQyMihrdkEBNLcTI0ICGTk0NZsAgJpbqZGBAQycmhrNgGBNDdTIwICGTm0NZuAQJqbqREBgYwc2ppNQCDNzdSIgEBGDm3NJiCQ5mZqREAgI4e2ZhMQSHMzNSIgkJFDW7MJCKS5mRoREMjIoa3ZBATS3EyNCAhk5NDWbAICaW6mRgQEMnJoazYBgTQ3UyMCAhk5tDWbgECam6kRAYGMHNqaTUAgzc3UiMAXqPVhMNxoJT0AAAAASUVORK5CYII=',\n          ...this.options,\n          scale: this.scale,\n          quality: this.quality,\n          cacheBust: this.cacheBust,\n          bgcolor: this.bgColor\n        }\n      }\n    },\n    getOffset (el) {\n      let top = el.offsetTop\n      let left = el.offsetLeft\n      let parent = el.offsetParent\n      while (parent) {\n        top += parent.offsetTop\n        left += parent.offsetLeft\n        parent = parent.offsetParent\n      }\n      return {\n        top,\n        left,\n        width: el.offsetWidth,\n        height: el.offsetHeight\n      }\n    },\n    /**\n     * 截图\n     * @return {promise}\n     * @public\n     */\n    shot () {\n      const doShot = this.ignoreMultiClick(this.dealHandle)\n      if (!this.beforeShot) {\n        return doShot()\n      }\n      const before = this.beforeShot()\n      if (before && before.then) {\n        before.then(() => {\n          return doShot()\n        })\n      } else if (before !== false) {\n        return doShot()\n      }\n    },\n    async conmonHandle () {\n      console.log('domtoimage')\n      const el = this.$refs.targetDom\n      const name = this.getFileName()\n      const func = typeMapping[this.distType].fn\n      if (!window.domtoimage) {\n        await this.loadScript(this.cdns.domtoimage)\n      }\n      return window.domtoimage[func](el, this.getOption(el))\n        .then(data => {\n          this.saveFile(data, name)\n          return data\n        })\n        .catch(err => {\n          return err\n        })\n    },\n    async anotherHandle () {\n      console.log('html2canvas')\n      const el = this.$refs.targetDom\n      const name = this.getFileName()\n      if (!window.html2canvas) {\n        await this.loadScript(this.cdns.html2canvas)\n      }\n\n      if (this.cacheBust) {\n        const imgArr = el.querySelectorAll('img')\n        if (imgArr.length) {\n          for (let i = 0; i < imgArr.length; i++) {\n            const dom = imgArr[i]\n            const src = dom.src\n            if (src.includes(';base64,') || !src) {\n              continue\n            }\n            const blob = await this.imageLoadBlob(src)\n            if (blob) {\n              dom.src = blob\n            }\n          }\n        }\n      }\n\n      return window\n        .html2canvas(el, this.getOption(el))\n        .then(canvas => {\n          const data = this.canvasToData(canvas, this.distType)\n          this.saveFile(data, name)\n          return data\n        })\n        .catch(err => {\n          return err\n        })\n    },\n    loadScript (src, option = {}) {\n      return new Promise((resolve, reject) => {\n        loadJs(src, option, function (err, script) {\n          if (err) {\n            reject(err)\n          } else {\n            resolve()\n          }\n        })\n      })\n    },\n    imageLoadBlob (src) {\n      const url = src + (/\\?/.test(src) ? '&' : '?') + new Date().getTime()\n      return new Promise(resolve => {\n        const request = new XMLHttpRequest()\n\n        request.onreadystatechange = () => {\n          if (request.readyState !== 4) return\n\n          if (request.status !== 200) {\n            // eslint-disable-next-line no-console\n            console.error(`cannot fetch resource: ${src}`)\n            resolve(src)\n            return\n          }\n\n          const encoder = new FileReader()\n          encoder.onloadend = () => {\n            const content = encoder.result.split(/,/)[1]\n            const extension = this.parseExtension(url).toLowerCase()\n            const type = this.mimes()[extension] || ''\n            resolve('data:' + type + ';base64,' + content)\n          }\n          encoder.readAsDataURL(request.response)\n        }\n        request.ontimeout = () => {\n          resolve(src)\n          // eslint-disable-next-line no-console\n          console.error(`fetch resource timeout: ${src}`)\n        }\n        request.responseType = 'blob'\n        request.timeout = 10000\n        request.open('GET', url, true)\n        request.send()\n      })\n    },\n    parseExtension (url) {\n      // eslint-disable-next-line no-useless-escape\n      const match = /\\.([^\\.\\/]*?)$/g.exec(url)\n      if (match) return match[1]\n      else return ''\n    },\n    mimes () {\n      const WOFF = 'application/font-woff'\n      const JPEG = 'image/jpeg'\n      return {\n        woff: WOFF,\n        woff2: WOFF,\n        ttf: 'application/font-truetype',\n        eot: 'application/vnd.ms-fontobject',\n        png: 'image/png',\n        jpg: JPEG,\n        jpeg: JPEG,\n        gif: 'image/gif',\n        tiff: 'image/tiff',\n        svg: 'image/svg+xml'\n      }\n    },\n    dealHandle () {\n      if (this.useAnother) return this.anotherHandle()\n      return this.conmonHandle()\n    },\n    ignoreMultiClick (func, manual = false) {\n      let lock = false\n      return function (...args) {\n        if (lock) return\n        lock = true\n        const done = () => (lock = false)\n        if (manual) return func.call(this, ...args, done)\n        const promise = func.call(this, ...args)\n        Promise.resolve(promise).finally(done)\n        return promise\n      }\n    },\n    /**\n     * blob转file\n     * @param {blob} theBlob blob对象，\n     * @param {string} fileName 文件名\n     * @return {blob}\n     * @public\n     */\n    blobToFile (theBlob, fileName) {\n      theBlob.lastModifiedDate = new Date()\n      theBlob.name = fileName\n      return theBlob\n    },\n    getFileName () {\n      return this.saveName + '.' + typeMapping[this.distType].suffix\n    },\n    saveFile (data, fileName) {\n      this.isSave && saveAs(data, fileName)\n    },\n    canvasToData (canvas, type) {\n      if (type === 'jpg') {\n        return canvas.toDataURL('image/jpeg', this.quality)\n      } else if (type === 'png') {\n        return canvas.toDataURL()\n      } else {\n        if (canvas.toBlob) {\n          return new Promise(resolve => {\n            canvas.toBlob(resolve)\n          })\n        }\n        const binaryString = window.atob(canvas.toDataURL().split(',')[1])\n        const length = binaryString.length\n        const binaryArray = new Uint8Array(length)\n        for (let i = 0; i < length; i++) {\n          binaryArray[i] = binaryString.charCodeAt(i)\n        }\n        return new Blob([binaryArray], {\n          type: 'image/png'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<docs>\n\n## Examples\n\n基本用法:\n\n```vue\n<template>\n  <div>\n    <p>截图容器：</p>\n    <dom-screenshot\n      class=\"screenshot-con\"\n      :options=\"shotOptions\"\n      :beforeShot=\"onBeforeShot\"\n      dist-type=\"png\"\n      ref=\"shotDom\"\n    >\n      <img src=\"https://raw.githubusercontent.com/Sweet-KK/dom-screenshot/main/docs/favicon.ico\">\n    </dom-screenshot>\n\n    <p><button @click=\"onClick\">点击</button>输出图片：</p>\n    <img style=\"width:100%;\" :src=\"src\">\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      shotOptions: {},\n      src: ''\n    }\n  },\n  methods: {\n    onClick() {\n      this.$refs.shotDom.shot()\n        .then(data => {\n          window.console.log(data)\n          this.src = data\n        })\n        .catch(err => {\n          window.console.log(err)\n        })\n    },\n    onBeforeShot () {\n      window.console.log('截图前的钩子')\n    }\n  }\n}\n</script>\n<style scoped>\n.screenshot-con {\n  margin: 0;\n  border: 1px solid #000;\n  box-sizing: border-box;\n}\n</style>\n```\n</docs>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomScreenshot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomScreenshot.vue?vue&type=script&lang=js&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./DomScreenshot.vue?vue&type=template&id=7d8bd2da&\"\nimport script from \"./DomScreenshot.vue?vue&type=script&lang=js&\"\nexport * from \"./DomScreenshot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./DomScreenshot.vue?vue&type=custom&index=0&blockType=docs\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"sourceRoot":""}